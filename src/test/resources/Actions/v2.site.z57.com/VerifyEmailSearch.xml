<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >

<suite name="Verify Email Search Results">
<listeners>
        <listener class-name="resources.ThreadCountChanger"/>
        <listener class-name="resources.TestListener"/>
        <listener class-name="resources.ZurpleReporter.ScreenshotTaker"/>
    </listeners>
  
  <test name="Verify Email Search">
  <parameter name="dataFile" value="/resources/data/home_search_data/home-property-search-01.json">
   <parameter name="dataFile2" value="/resources/data/email-listing-data.json">
   <parameter name="changeEmail" value="false">
    <classes>
      <class name="com.z57.site.v2.HomeSearchPageTest" >
        <methods>
          <include name="testEmailSearch" />
        </methods>
      </class>
       <class name="resources.CurrentPageTest">
        <methods>
          <include name="closeBrowser" />
        </methods>
      </class>
    </classes>
     </parameter>
     </parameter>
    </parameter>
  </test>
  
  <test name="Verify Email Listing with User logged in">
    <parameter name="dataFile" value="/resources/data/home_search_data/home-property-search-01.json">
    <parameter name="dataFile2" value="/resources/data/email-listing-data.json">
    <parameter name="changeEmail" value="false">
    <classes>
      <class name="com.z57.site.v2.HomePageTest" >
        <methods>
          <include name="testSignInWithValidEmail" />
        </methods>
      </class>
       <class name="com.z57.site.v2.HomeSearchPageTest" >
        <methods>
          <include name="testEmailSearch" />
        </methods>
      </class>
       <class name="resources.CurrentPageTest">
        <methods>
          <include name="closeBrowser" />
        </methods>
      </class>
    </classes>
    </parameter>
    </parameter>
    </parameter>
  </test>

    <test name="Verify Email Listing with User logged in and Sender email changed">
        <parameter name="dataFile" value="/resources/data/home_search_data/home-property-search-01.json">
        <parameter name="dataFile2" value="/resources/data/email-listing-data.json">
        <parameter name="changeEmail" value="true">
            <classes>
                <class name="com.z57.site.v2.HomePageTest" >
                    <methods>
                        <include name="testSignInWithValidEmail" />
                    </methods>
                </class>
                <class name="com.z57.site.v2.HomeSearchPageTest" >
                    <methods>
                        <include name="testEmailSearch" />
                    </methods>
                </class>
                <class name="resources.CurrentPageTest">
                    <methods>
                        <include name="closeBrowser" />
                    </methods>
                </class>
            </classes>
        </parameter>
        </parameter>
        </parameter>
    </test>
  
</suite>
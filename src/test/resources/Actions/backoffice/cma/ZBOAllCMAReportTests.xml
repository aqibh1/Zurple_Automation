<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >

<suite name="Zurple Website Pre Release Somke Tests" preserve-order="true" verbose="2" parallel="tests" thread-count="1">
	<listeners>		
		<listener class-name="resources.ThreadCountChanger"/>
        <listener class-name="resources.ZurpleReporter.ScreenshotTaker"/>
        <listener class-name="resources.CustomTestNGReporter"/>
         <listener class-name="resources.TestRailResultsListener" />
	</listeners>
	
 <test name="Verify Send CMA Report button is visible on lead details page">	
			<classes>
				<class name="com.zurple.backoffice.ZBOLoginPageTest">
					<methods>
						<include name="testBackOfficeLogin" />
					</methods>
				</class>
				<class name="com.zurple.backoffice.ZBOLeadDetailPageTest">
					<methods>
						<include name="testVerifSendCMAReportButtonIsVisible" />
					</methods>
				</class>
				<class name="resources.CurrentPageTest">
					<methods>
						<include name="closeBrowser" />
					</methods>
				</class>
			</classes>
	</test>
	
	<test name="Verify Send CMA Report button is working on lead details page">	
			<classes>
				<class name="com.zurple.backoffice.ZBOLoginPageTest">
					<methods>
						<include name="testBackOfficeLogin" />
					</methods>
				</class>
				<class name="com.zurple.backoffice.ZBOLeadDetailPageTest">
					<methods>
						<include name="testClickOnCMAReportButtonIsWorking" />
					</methods>
				</class>
				<class name="resources.CurrentPageTest">
					<methods>
						<include name="closeBrowser" />
					</methods>
				</class>
			</classes>
	</test>
	<test name="Verify Send CMA Report page">
	<parameter name="dataFile" value="/resources/data/zurple/backoffice/cma/cma-lead-data.json">	
			<classes>
				<class name="com.zurple.backoffice.ZBOSendReportPageTest">
					<methods>
						<include name="testVerifyLeadNameIsDisplayedOnCMAReportPage" />
						<include name="testVerifyAllFieldsAreDisplayedInPropertySection" />
						<include name="testVerifyPropertyHeadingIsDisplayedOnCMAReportPage" />
						<include name="testVerifyActiveListingHeadingIsDisplayedOnCMAReportPage" />
						<include name="testVerifySoldListingHeadingIsDisplayedOnCMAReportPage" />
					</methods>
				</class>
			</classes>
			</parameter>
	</test>
	
	<test name="Verify Send CMA Report button is disabled for Invalid lead">	
			<classes>
				<class name="com.zurple.backoffice.ZBOLoginPageTest">
					<methods>
						<include name="testBackOfficeLogin" />
					</methods>
				</class>
				<class name="com.zurple.backoffice.ZBOLeadDetailPageTest">
					<methods>
						<include name="testVerifyCMAReportIsDisabledForInvalidLead" />
					</methods>
				</class>
				<class name="resources.CurrentPageTest">
					<methods>
						<include name="closeBrowser" />
					</methods>
				</class>
			</classes>
	</test>
	
	<test name="Verify lead address is populated on Send CMA Report page">
		<parameter name="dataFile" value="/resources/data/zurple/backoffice/zurple-add-lead-for-cma.json">
			<parameter name="dataFile1" value="/resources/data/zurple/backoffice/cma/zurple-add-lead-for-cma-city.json">
			<classes>
				<class name="com.zurple.backoffice.ZBOSendReportPageTest">
					<methods>
						<include name="testVerifyLeadAddressIsPopulatedInPropertySection" />
						<include name="testVerifyLeadAddressIsPopulatedInActiveListingSection" />
						<include name="testVerifyLeadCityIsPopulatedInActiveListingSection" />
					</methods>
				</class>
			</classes>
		</parameter>
		</parameter>
	</test>
	
	<test name="Verify form validation is working on Send CMA Report page">
		<parameter name="dataFile" value="/resources/data/zurple/backoffice/cma/zurple-add-lead-with-address.json">
		<parameter name="dataFile1" value="/resources/data/zurple/backoffice/cma/zurple-add-lead-for-cma-city.json">
			<classes>
				<class name="com.zurple.backoffice.ZBOSendReportPageTest">
					<methods>
						<include name="testVerifyAddressValidationIsWorking" />
						<include name="testVerifyPriceValidationIsWorking" />
						<include name="testVerifyErrorAlertIsDisplayedWhenActiveListingIsNotSelected" />
						<include name="testVerifyErrorAlertIsDisplayedWhenSoldListingIsNotSelected" />
					</methods>
				</class>
			</classes>
		</parameter>
		</parameter>
	</test>
	
	 <test name="Add and Remove Sold Listings and Verify the errors">
		<parameter name="dataFile" value="/resources/data/zurple/backoffice/cma/zurple-add-lead-with-address.json">
			<classes>
				<class name="com.zurple.backoffice.ZBOSendReportPageTest">
					<methods>
						<include name="testVerifyThreeSoldPropertiesAdded" />
						<include name="testVerifyAddButtonIsChangedToAddedTextSoldProps" />
						<include name="testVerifyErrorAlertWhenMoreThanThreeSoldPropsSelected" />
						<include name="testVerifySelectedSoldPropsCanBeRemoved" />
					</methods>
				</class>
			</classes>
		</parameter>
	</test>
	
	<test name="Add and Remove Active Listings and Verify the errors">
		<parameter name="dataFile" value="/resources/data/zurple/backoffice/cma/zurple-add-lead-with-address.json">
			<classes>
				<class name="com.zurple.backoffice.ZBOSendReportPageTest">
					<methods>
						<include name="testVerifyThreeActiveListingsAdded" />
						<include name="testVerifyAddButtonIsChangedToAddedTextActiveListing" />
						<include name="testVerifyErrorAlertWhenMoreThanThreeActiveListigsSelected" />
						<include name="testVerifySelectedActiveListingsCanBeRemoved" />
					</methods>
				</class>
			</classes>
		</parameter>
	</test>
	
	<test name="Search and Verify Active Listing on CMA Report page" >	
	<parameter name="dataFile" value="/resources/data/zurple/backoffice/cma/zurple-add-lead-for-al-search.json"> 
			<classes>
				<class name="com.zurple.backoffice.ZBOSendReportPageTest">
					<methods>
						<include name="testVerifyResultsAreDisplayedUnderActiveListingSection" />
						<include name="testVerifyResultsAreDsiplayedByAddressUnderActiveListing" />
						<include name="testVerifyResultsAreDsiplayedByCityUnderActiveListing" />
						<include name="testVerifyResultsAreDsiplayedByZipUnderActiveListing" />
						<include name="testVerifyResultsAreDsiplayedByMLSUnderActiveListing" />
						<include name="testVerifyResultsAreWithAllInformationActiveListing" />
					</methods>
				</class> 
			</classes>
	</parameter>
	</test>
		
<test name="Search and Verify Sold Properties on CMA Report page" >	
	<parameter name="dataFile" value="/resources/data/zurple/backoffice/cma/zurple-add-lead-for-al-search.json"> 
			<classes>
				<class name="com.zurple.backoffice.ZBOSendReportPageTest">
					<methods>
						<include name="testVerifyResultsAreDisplayedUnderSoldPropertiesSection" />
						<include name="testVerifyResultsAreDsiplayedByAddressUnderSoldPropertiesSection" />
						<include name="testVerifyResultsAreDsiplayedByCityUnderSoldPropertiesSection" />
						<include name="testVerifyResultsAreDsiplayedByZipUnderSoldPropertiesSection" />
						<include name="testVerifyResultsAreWithAllInformationSoldPropertiesSection" />
					</methods>
				</class> 
			</classes>
	</parameter>
	</test>
	
	<test name="Verifications on Step2 and Step 3 of CMA Report page">
		<parameter name="dataFile" value="/resources/data/zurple/backoffice/cma/zurple-add-lead-with-address.json">
			<classes>
				<class name="com.zurple.backoffice.ZBOSendReportPageTest">
					<methods>
						<include name="testVerifyUserIsRedirectedToStep2WhenEmailDetailsButtonIsClicked" />
						<include name="testVerifyUserCanAddAdditionalCommentsStep2CMA" />
						<include name="testVerifyStep3OfCMAReport" />
					</methods>
				</class>
			</classes>
		</parameter>
	</test>
	
	<test name="Verify the email preferences of lead captured from Home Value" >	
	<parameter name="dataFile" value="/resources/data/zurple/home_value/zurple-home-value-for-prop-update-data.json"> 
			<classes>
				<class name="com.zurple.website.ZWHomeValuesPageTest">
					<methods>
						<include name="testVerifyPropertUpdateIsSetToYes"/>
					</methods>
				</class> 
			</classes>
	</parameter>
	</test>
</suite>